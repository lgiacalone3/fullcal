<?xml version="1.0" encoding="utf-8"?>
<extension type="module" version="2.5.0" client="site" method="install">
    <name>CiviCRM FullCalendar</name>
    <author>Louis Giacalone, Andrew Schmitt</author>
    <creationDate>November 2012</creationDate>
    <copyright>Copyright (C)2012 Andrew Schmitt, Louis Giacalone</copyright>
    <license>GNU General Public License version 2 or later</license>
    <authorEmail>lgiacalone3@yahoo.com, mod_civicrm_fullcalendar@schmitt.cc</authorEmail>
    <authorUrl>https://github.com/lgiacalone3/fullcal</authorUrl>
    <version>0.1.15</version>
    <description>A Joomla module for CiviCRM that displays CiviEvent events in an interactive calendar, using FullCalendar. See https://github.com/lgiacalone3/fullcal for full documentation.
        Authored by Louis Giacalone and Andrew Schmitt.
</description>
<!--
	<install>
    	<sql>
        	<file driver="mysql" charset="utf8">sql/install.mysql.utf8.sql</file>
  		</sql>
    </install>
    <uninstall> 
    	<sql>
        	<file driver="mysql" charset="utf8">sql/uninstall.mysql.utf8.sql</file>
  		</sql>
   	</uninstall>
   	<update>
		<schemas>
			<schemapath type="mysql">sql/updates/mysql</schemapath>
		</schemas>	
	</update>
-->
    <files>
        <filename module="mod_civicrm_fullcalendar">mod_civicrm_fullcalendar.php</filename>
        <filename>index.html</filename>
        <filename>helper.php</filename>
        <folder>elements/</folder>
        <folder>fullcalendar/</folder>
        <folder>tmpl/</folder>
    </files>


    <config>
        <fields name="params" addfieldpath="/modules/mod_civicrm_fullcalendar/elements">
            <fieldset name="display" label="General Options">
                <field type="spacer" label="&lt;b&gt;Display Settings&lt;/b&gt;"/>

                <field name="maxevents" type="text" default="10" size="10" label="Maximum Events Listed"
                       description="Maximum number of events to be listed."></field>

                <field name="showduration" type="radio" default="1" label="Show Duration?"
                       description="Indicate if you want the event duration listed.">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>

                <field name="summary" type="radio" default="1" label="Display Summary Text?"
                       description="Do you want to include event summary text with the listing?">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>

                <field name="privacy" type="radio" default="1" label="Privacy"
                       description="Select Public or Private Events">
                    <option value="1">Public</option>
                    <option value="2">Private</option>
                    <option value="0">Both</option>
                </field>

                <field name="pastevents" type="radio" default="0" label="Display Past Events"
                       description="Show or hide events that have already happened">
                    <option value="0">Show Past Events</option>
                    <option value="1">Hide Past Events</option>
                </field>

                <field type="spacer" hr="true"/>
                <field type="spacer" label="&lt;b&gt;Color Settings&lt;/b&gt;"/>

                <field name="color" type="list" default="0" label="Color by"
                       description="Choose how to color events">
                    <option value="0">Event Duration</option>
                    <option value="1">Event Type</option>
                </field>

                <field name="colorpicker" type="list" default="0" label="Color Theme"
                       description="Choose a color theme for events">
                    <option value="0">Primary Colors</option>
                    <option value="1">Light Colors</option>
                    <option value="2">Strong Colors</option>
                    <option value="3">Blue</option>
                    <option value="4">Custom Colors</option>
                </field>

		<field name="legendpicker" type="list" default="0" label="Choice of Legend"
                       description="Choose a color theme for events">
                    <option value="0">None</option>
                    <option value="1">Legend 1</option>
                    <option value="2">Legend 2</option>
                </field>


                <field type="spacer" hr="true"/>
                <field type="spacer" label="&lt;b&gt;Custom Colors&lt;/b&gt; (for this, choose 'Custom Colors' in the Color Theme dropdown box above.  In the text box to the below, use CSS &lt;A href='http://www.w3schools.com/cssref/css_colornames.asp'&gt;color names&lt;/a&gt; or hex values separated by spaces.)"/>


                <field name="customcolors" type="color" label="Color"></field>


            </fieldset>
            <fieldset name="customselect"  label="Custom Selection Options">
                <legend><?php echo JText::_('Custom Selection Mode'); ?></legend>

                <field name="mode" type="list" default="0" label="Event Selection Mode"
                       description="Choose event selection method">
                    <option value="0">Disable</option>
                    <option value="1">Date Range</option>
                    <option value="2">Event Selection</option>
                    <option value="3">Event Type</option>
                </field>

                <field type="spacer" hr="true"/>
                <field type="spacer" label="&lt;b&gt;Mode: Date Range Options&lt;/b&gt;"/>

                <field name="startdate" type="calendar" default="Select" label="Start date" description=""
                       format="%d-%m-%Y"/>
                <field name="enddate" type="calendar" default="Select" label="End date" description=""
                       format="%d-%m-%Y"/>

                <field type="spacer" label="&lt;b&gt;Mode: Custom Event Selection Options&lt;/b&gt;"/>

                <field name="multievent" type="eventlist" default="0" label="Select Events"
                       description="Select Events to be displayed"/>

                <field type="spacer" label="&lt;b&gt;Mode: Event Type Options&lt;/b&gt;"/>

                <field name="tid" type="sql" default="10" label="Event Type" query="
            SELECT civicrm_option_value.value, civicrm_option_value.label
            FROM civicrm_option_value
            INNER JOIN
                civicrm_option_group
            ON (civicrm_option_value.option_group_id = civicrm_option_group.id)
            WHERE (civicrm_option_group.name = 'event_type')
            AND (civicrm_option_value.is_active = '1')"
                       key_field="value" value_field="label"/>

            </fieldset>
        </fields>
    </config>

	<updateservers>
		<server type="extension" priority="1" name="CiviCRM FullCalendar">https://raw.github.com/lgiacalone3/fullcal/master/mod_civicrm_fullcalendar-update.xml</server>
	</updateservers>
</extension>
